{
  "status": "ok",
  "user_query": "How has profit margin trended across product categories?",
  "dq_count": 1,
  "is_valid": true,
  "validation_message": null,
  "total_latency_sec": 39.652,
  "chart_json_len": 3276,
  "narrative_len": 845,
  "sql_valid_logged": true,
  "chart_valid_logged": true,
  "parsing_latency_sec": 6.023,
  "sql_generation_latency_sec": 3.668,
  "sql_validation_latency_sec": 0.037,
  "data_extract_latency_sec": 0.082,
  "chart_llm_latency_sec": 29.777,
  "narrative_latency_sec": 0.013,
  "sql_correct": false,
  "sql_diff_summary": "{'values_changed': {\"root[0]['period']\": {'new_value': datetime.date(2024, 9, 1), 'old_value': datetime.date(2024, 11, 1)}, \"root[0]['gross_margin']\": {'new_value': 34177.52, 'old_value': 59462.93}, \"root[1]['period']\": {'new_value': datetime.date(2024, 9, 1), 'old_value': datetime.date(2024, 11, 1)}, \"root[1]['gross_margin']\": {'new_value': 1215169.13, 'old_value': 2434197.81}, \"root[2]['period']\": {'new_value': datetime.date(2024, 9, 1), 'old_value': datetime.date(2024, 11, 1)}, \"root[2]['gross_margin']\": {'new_value': 803494.99, 'old_value': 1756092.58}, \"root[3]['period']\": {'new_value': datetime.date(2024, 9, 1), 'old_value': datetime.date(2024, 11, 1)}, \"root[3]['gross_margin']\": {'new_value': 191805.11, 'old_value': 318963.53}, \"root[4]['period']\": {'new_value': datetime.date(2024, 9, 1), 'old_value': datetime.date(2024, 11, 1)}, \"root[4]['gross_margin']\": {'new_value': 54206.5, 'old_value': 143000.85}, \"root[5]['period']\": {'new_value': datetime.date(2024, 10, 1), 'old_value': datetime.date(2024, 12, 1)}, \"root[5]['gross_margin']\": {'new_value': 132654.95, 'old_value': 135504.67}, \"root[6]['period']\": {'new_value': datetime.date(2024, 10, 1), 'old_value': datetime.date(2024, 12, 1)}, \"root[6]['gross_margin']\": {'new_value': 5336667.39, 'old_value': 5686547.81}, \"root[7]['period']\": {'new_value': datetime.date(2024, 10, 1), 'old_value': datetime.date(2024, 12, 1)}, \"root[7]['gross_margin']\": {'new_value': 3958060.02, 'old_value': 3831273.47}, \"root[8]['period']\": {'new_value': datetime.date(2024, 10, 1), 'old_value': datetime.date(2024, 12, 1)}, \"root[8]['gross_margin']\": {'new_value': 738459.69, 'old_value': 736888.02}, \"root[9]['period']\": {'new_value': datetime.date(2024, 10, 1), 'old_value': datetime.date(2024, 12, 1)}, \"root[9]['gross_margin']\": {'new_value': 328291.53, 'old_value': 317591.82}, \"root[10]['period']\": {'new_value': datetime.date(2024, 11, 1), 'old_value': datetime.date(2025, 1, 1)}, \"root[10]['gross_margin']\": {'new_value': 125868.71, 'old",
  "sql_row_count_generated": 75,
  "sql_row_count_ground_truth": 65,
  "chart_correct": false,
  "chart_pct_points_correct": 0.16,
  "chart_mismatch_count": 63,
  "chart_total_points": 75,
  "chart_mismatches_sample": "(2024-09-01, __single_series__) missing in ground truth; chart=34177.52\n(2024-10-01, __single_series__) missing in ground truth; chart=132654.95\n(2024-11-01, __single_series__) gt=143000.85, chart=125868.71\n(2024-12-01, __single_series__) gt=317591.82, chart=135504.67\n(2025-01-01, __single_series__) gt=325792.99, chart=123274.42\n(2025-02-01, __single_series__) gt=285475.22, chart=124185.09\n(2025-03-01, __single_series__) gt=270039.4, chart=135701.4\n(2025-04-01, __single_series__) gt=280989.57, chart=154517.22\n(2025-05-01, __single_series__) gt=286174.14, chart=125189.81\n(2025-06-01, __single_series__) gt=305530.99, chart=113108.04",
  "chart_points_match_dataset": false,
  "chart_dataset_mismatch_count": 60,
  "chart_dataset_total_points": 75,
  "chart_dataset_mismatches_sample": "(value diff) (2024-09-01, __single_series__) dataset=803494.99, chart=34177.52\n(value diff) (2024-10-01, __single_series__) dataset=738459.69, chart=132654.95\n(value diff) (2024-11-01, __single_series__) dataset=3788066.06, chart=125868.71\n(value diff) (2024-12-01, __single_series__) dataset=3831273.47, chart=135504.67\n(value diff) (2025-01-01, __single_series__) dataset=692508.51, chart=123274.42\n(value diff) (2025-02-01, __single_series__) dataset=285475.22, chart=124185.09\n(value diff) (2025-03-01, __single_series__) dataset=3542432.88, chart=135701.4\n(value diff) (2025-05-01, __single_series__) dataset=5907136.69, chart=125189.81\n(value diff) (2025-06-01, __single_series__) dataset=665382.39, chart=113108.04\n(value diff) (2025-07-01, __single_series__) dataset=759178.51, chart=151823.94",
  "narrative_present": null,
  "narrative_length_chars": null,
  "narrative_coverage_score": null,
  "total_prompt_tokens": 6498,
  "total_completion_tokens": 2209,
  "total_tokens": 8707,
  "total_cost_usd": null,
  "models_used": "gpt-4.1-mini"
}